<main>
  <h1>Number Guessing Game</h1>
  <link rel="stylesheet" href="site.css" />
  <p>Loading...</p>
  <form action="" method="get">
    <fieldset>
      <input type="text" id="guess" maxlength="3" />
      <input type="submit" value="Guess" />
    </fieldset>
  </form>
  <a href="#">New game</a>
</main>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    let form = document.querySelector('form');
    let inputText = document.querySelector('[type=text]');
    let messageArea = document.querySelector('p');
    let newGame = document.querySelector('a');
    let startMessage = 'Guess a number from 1 to 100!'
    let answer = generateNumber();

    messageArea.innerHTML = startMessage

    form.addEventListener('submit', event => {
      event.preventDefault();
      let guess = parseInt(inputText.value, 10);
      let message;

      if (guess > answer) {
        message = `Too High!`
      } else if (guess < answer) {
        message = `Too Low!`
      } else {
        message = `You got it - my number is ${answer}!`;
      }

      messageArea.innerHTML = message;
    });

    newGame.addEventListener('click', event => {
      event.preventDefault();
      messageArea.textContent = startMessage;
      answer = generateNumber();
    })

    function generateNumber() {
      return Math.floor(100 * Math.random()) + 1;
    }

  });
</script>